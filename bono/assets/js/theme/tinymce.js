tinymce.create("tinymce.plugins.blockquote_button_plugin",{init:function(o,t){o.addButton("blockquote_btn",{title:"Add blockquote",onclick:function(){wp.mce.blockquote_btn.popupwindow(o)}}),o.addButton("mark_btn",{title:"Mark text",image:wps_admin_globals.assets+"/images/admin/tinymce-mark.png",onclick:function(){wp.mce.mark_btn.popupwindow(o)}}),o.addButton("mask_link",{title:"Mask link",cmd:"mask_link_command",image:wps_admin_globals.assets+"/images/admin/link.png"}),o.addCommand("mask_link_command",function(t,n){var e,a=o.selection.getContent({format:"raw"});a?null!==(e=prompt(o.translate("Enter link address")))&&((e=e.trim())?o.execCommand("mceInsertContent",0,'[mask_link href="'+e+'" target="_blank"]'+a+"[/mask_link]"):alert(o.translate("You must specify the link address"))):alert(o.translate("Link text must be selected"))}),o.addCommand("spoiler_btn_command",function(){var t,n,e=o.selection.getContent({format:"html"});0!==e.length?(n=' title="'+(t=prompt(o.translate("Enter a spoiler title or leave blank")))+'"',t.length||(n=""),o.execCommand("mceReplaceContent",!1,"[spoiler"+n+"]"+e+"[/spoiler]")):alert(o.translate("Highlight the spoiler text"))})},createControl:function(t,n){return null},getInfo:function(){return{longname:"Extra Buttons",author:"WPShop.biz",version:"1"}}}),tinymce.PluginManager.add("blockquote_button_plugin",tinymce.plugins.blockquote_button_plugin);